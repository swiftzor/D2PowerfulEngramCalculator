<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<!-- <script src="d2_better_power_calc.js"></script> -->
		<script src="https://raw.githubusercontent.com/swiftzor/D2PowerfulEngramCalculator/master/d2_better_power_calc.js"></script>
		
		<script>
			$(document).ready(function(){
				console.log('loaded');
				calculator.registerEvents();
				$("#result").hide();
			});
		</script>
		
		<title>D2 Power Calculator</title>
	</head>
	<body>
		<div class="containter-fluid">
			<div class="row">
				<div class="offset-sm-1 col-sm-2">
					<div class="form-group">
						<label>Character equipment</label><br>
						<label>Average Power: <span id="avgPower">900</span></label><br>
						<label for="primary">Primary:</label>
						<input type="text" id="primary" class="form-control currentGear" value="900">
						<label for="energy">Energy:</label>
						<input type="text" id="energy" class="form-control currentGear" value="900">
						<label for="heavy">Heavy:</label>
						<input type="text" id="heavy" class="form-control currentGear" value="900">
						<label for="head">Head:</label>
						<input type="text" id="head" class="form-control currentGear" value="900">
						<label for="arms">Arms:</label>
						<input type="text" id="arms" class="form-control currentGear" value="900">
						<label for="chest">Chest:</label>
						<input type="text" id="chest" class="form-control currentGear" value="900">
						<label for="boots">Boots:</label>
						<input type="text" id="boots" class="form-control currentGear" value="900">
						<label for="classItem">Class Item:</label>
						<input type="text" id="classItem" class="form-control currentGear" value="900">
						<label for="artifact">Seasonal Artifact Bonus:</label>
						<input type="text" id="artifact" class="form-control" value="0">
						<label for="runs">Number of runs to do:</label> 
						<select id="runs" class="form-control">
							<option value=1>1</option>
							<option value=10>10</option>
							<option value=100>100</option>
							<option value=1000>1000</option>
						</select><br>
						<button id="calc" class="btn btn-secondary">Calculate</button>
					</div>
				</div>
				<div class="col-sm-2">
					<label>Character Equipment on last run</label><br>
					<label>Average Power: <span id="avgPowerLast">900</span></label><br>
					<label for="primaryEnd">Primary:</label>
					<input type="text" id="primaryEnd" class="form-control" value="900">
					<label for="energyEnd">Energy:</label>
					<input type="text" id="energyEnd" class="form-control" value="900">
					<label for="heavyEnd">Heavy:</label>
					<input type="text" id="heavyEnd" class="form-control" value="900">
					<label for="headEnd">Head:</label>
					<input type="text" id="headEnd" class="form-control" value="900">
					<label for="armsEnd">Arms:</label>
					<input type="text" id="armsEnd" class="form-control" value="900">
					<label for="chestEnd">Chest:</label>
					<input type="text" id="chestEnd" class="form-control" value="900">
					<label for="bootsEnd">Boots:</label>
					<input type="text" id="bootsEnd" class="form-control" value="900">
					<label for="classItemEnd">Class Item:</label>
					<input type="text" id="classItemEnd" class="form-control" value="900">
				</div>
				<div class="col-sm-6">
					<div class="row">
						<div class="card" id="legacy" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">Legacy (Power -3 to 0)</h5>
								<div class="btn-group-toggle" data-toggle="buttons" style="margin-top: 5px; margin-bottom: 5px;">
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Clan Nightfall
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Clan Gabmit
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Clan Raid
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Clan Crucible
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Leviathan Baths
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Leviathan Garden
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Leviathan Gauntlet
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">Leviathan Calus
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">EoW Post Pools Encounter
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">EoW Bonus Chest
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">EoW Awaken Argos
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">EoW Argos
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SoS Statue Garden 
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SoS Power Conduit
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SoS Red Legion Assault
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SoS Val Ca'our
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">LW Kalli
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">LW Shuro-Chi
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">LW Morgeth
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">LW Vault
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">LW Riven's Heart
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SotP Berserkers
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SotP Botza Ruins
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">SotP Insurrection Prime
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">CoS Hive Ritual
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">CoS Bridge
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">CoS Gahlran's Deception
									</label>
									<label class="btn btn-outline-info">
										<input class="legacyCb" type="checkbox">CoS Gahlran
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">Tier 1 (Power +3)</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Flashpoint
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Gunsmith Bounties
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Eris Story Mission
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Eris Hunts
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Vanguard Bounties
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Vanguard Strikes
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Crucible Bounties
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Crucible Core Matches
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Crucible Rotator Matches
									</label>
									<label class="btn btn-outline-info">
										<input class="tier1Cb" type="checkbox">Gambit Bounties
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">Tier 2 (Power + 4)</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-outline-info">
										<input class="tier2Cb" type="checkbox">Gambit Matches
									</label>
									<label class="btn btn-outline-info">
										<input class="tier2Cb" type="checkbox">Vex Offensive
									</label>
									<label class="btn btn-outline-info">
										<input class="tier2Cb" type="checkbox">Clan XP
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">Pinacle (Power + 5)</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-outline-info">
										<input class="pinacleCb" type="checkbox">Nightfall: The Ordeal
									</label>
									<label class="btn btn-outline-info">
										<input class="pinacleCb" type="checkbox">Garden of Salvation
									</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="offset-sm-1 col-sm-10">
					<div id="result" class="alert alert-secondary" >
							<h5>Calculation Results</h5>
							Based on <span id="ran"></span> simulations<br>
							25th percentile: <strong><span id="val25"></span></strong> 
							50th percentile: <strong id="val50"></strong> 
							75th percentile: <strong id="val75"></strong>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>