<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<script src="d2_better_power_calc.js"></script>
		
		<script>
			$(document).ready(function(){
			console.log('loaded');
			$("#result").hide();
				$("#calc").click(function() {
					console.log($('#runs').val());
					calculator.doCalc($('#runs').val());
					//doCalc($('#runs').val());
					$("#result").show();
					$("#ran").text($('#runs').val());
				});
			});
		</script>
		
		<title>D2 Power Calculator</title>
	</head>
	<body>
		<div class="containter-fluid">
			<div class="row">
				<div class="offset-sm-1 col-sm-2">
					<div class="form-group">
						<label>Character equipment</label><br>
						<label for="primary">Primary:</label>
						<input type="text" id="primary" class="form-control" value="500">
						<label for="energy">Energy:</label>
						<input type="text" id="energy" class="form-control" value="500">
						<label for="heavy">Heavy:</label>
						<input type="text" id="heavy" class="form-control" value="500">
						<label for="head">Head:</label>
						<input type="text" id="head" class="form-control" value="500">
						<label for="arms">Arms:</label>
						<input type="text" id="arms" class="form-control" value="500">
						<label for="chest">Chest:</label>
						<input type="text" id="chest" class="form-control" value="500">
						<label for="boots">Boots:</label>
						<input type="text" id="boots" class="form-control" value="500">
						<label for="classItem">Class Item:</label>
						<input type="text" id="classItem" class="form-control" value="500">
						<label for="runs">Number of runs to do:</label> 
						<select id="runs" class="form-control">
							<option value=1>1</option>
							<option value=10>10</option>
							<option value=100>100</option>
							<option value=1000>1000</option>
						</select><br>
						<button id="calc" class="btn btn-secondary">Calculate</button>
					</div>
				</div>
				<div class="col-sm-2">
					<label>Character Equipment on last run</label><br>
					<label for="primaryEnd">Primary:</label>
					<input type="text" id="primaryEnd" class="form-control" value="500">
					<label for="energyEnd">Energy:</label>
					<input type="text" id="energyEnd" class="form-control" value="500">
					<label for="heavyEnd">Heavy:</label>
					<input type="text" id="heavyEnd" class="form-control" value="500">
					<label for="headEnd">Head:</label>
					<input type="text" id="headEnd" class="form-control" value="500">
					<label for="armsEnd">Arms:</label>
					<input type="text" id="armsEnd" class="form-control" value="500">
					<label for="chestEnd">Chest:</label>
					<input type="text" id="chestEnd" class="form-control" value="500">
					<label for="bootsEnd">Boots:</label>
					<input type="text" id="bootsEnd" class="form-control" value="500">
					<label for="classItemEnd">Class Item:</label>
					<input type="text" id="classItemEnd" class="form-control" value="500">
				</div>
				<div class="col-sm-6">
					<div class="row">
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">520 Power Engrams</h5>
								<div class="btn-group-toggle" data-toggle="buttons" style="margin-top: 5px; margin-bottom: 5px;">
									<label class="btn btn-info">
										<input type="checkbox">Daily Strike
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Daily Crucible
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Daily Gambit
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Daily Adventure
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Crucible Weekly
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Gambit Weekly
									</label>
								</div>
								<div class="btn-group-toggle" data-toggle="buttons" style="margin-top: 5px; margin-bottom: 5px;">
									<label class="btn btn-info">
										<input type="checkbox">Strikes Weekly
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Heroic Stories
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Flashpoint
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Ikora
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Spider Bounty
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Clan Engram: Nightfall
									</label>
								</div>
								<div class="btn-group-toggle" data-toggle="buttons" style="margin-top: 5px; margin-bottom: 5px;">
									<label class="btn btn-info">
										<input type="checkbox">Clan Engram: Crucible
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Clan Engram: Gambit
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Clan Engram: Raid
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">540 Power Engrams</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-info">
										<input type="checkbox">Nightfall
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Nightfall Score
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Petra: Weekly Story
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">560 Power Engrams</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-info">
										<input type="checkbox">Petra: 8 Dreaming City Bounties
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">580 Power Engrams</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-info">
										<input type="checkbox">Kalli
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Shuro-Chi
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Morgeth
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Blind Well T4
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Petra: Weekly Challenge
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Ascendant Challenge
									</label>
								</div>
							</div>
						</div>
						<div class="card" style="width: 90%; margin-left: 5%; margin-top: 5px; margin-bottom: 5px;">
							<div class="card-body">
								<h5 class="card-title">600 Power Engrams</h5>
								<div class="btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-info">
										<input type="checkbox">Gambit Weekly Bounty
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Vault
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Riven
									</label>
									<label class="btn btn-info">
										<input type="checkbox">Heart
									</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="offset-sm-1 col-sm-10">
					<div id="result" class="alert alert-secondary" >
							<h5>Calculation Results</h5>
							Based on <span id="ran"></span> simulations<br>
							25th percentile: <strong><span id="val25"></span></strong> 
							50th percentile: <strong id="val50"></strong> 
							75th percentile: <strong id="val75"></strong>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>